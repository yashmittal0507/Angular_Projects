import {NgModule} from '@angular/core';
import {Routes,RouterModule, PreloadAllModules} from '@angular/router'
import { NgModel } from '@angular/forms';
import { ShoppingListComponent } from './shopping-list/shopping-list.component';
import { HomeComponent } from './core/home/home.component';
import { AuthGuard } from './auth/authGuard.service';




const appRoutes:Routes =[
    {path:'',component:HomeComponent,canActivate:[AuthGuard]},
    {path:'recipies',loadChildren:'./recipes/recipes.module#RecipesModule'},
    
    {path:'shopping-list',component:ShoppingListComponent},
   
  ];
/*prelaoding strategy will work only when you remove canload AuthGuard from recipies route.
because canLoad authguard prevents lazyloaded module to load after the app loads as lazyloaded module
gets loaded only when canload gets true as the value.. */
@NgModule({
    imports:[RouterModule.forRoot(appRoutes,{ preloadingStrategy:PreloadAllModules})
    ],
    exports:[RouterModule]
})
export class AppRoutingModule {
    

}